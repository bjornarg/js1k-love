var f=c.width=window.innerWidth,g=c.height=window.innerHeight,h=f/2,j=0.4*g,k=0,l=[],m=[];M=Math;C=M.cos;S=M.sin;P=M.PI;function n(b){return{x:f/6*M.pow(S(b),3),y:g/-60*(15*C(b)-5*C(2*b)-2*C(3*b)-C(4*b)),a:0}}function o(b){return ~~(M.random()*b)}function q(){var b=l[L].d;return{x:b.x,y:b.y,a:b.a,e:l[L].b,c:"hsl("+o(361)+","+o(101)+"%,"+o(50)+"%)"}}for(var r=-P/2;r<P/2;r+=0.01*P)(-0.25>r||0.25<r)&&l.push({d:n(r),b:n(r+P)});
setInterval(function(){a.fillStyle="rgba(0,0,0,0.15)";a.fillRect(0,0,f,g);250>m.length&&(L=o(l.length),m.push(q()),L=o(l.length),m.push(q()));for(var b=0;b<m.length;b++){var d=m[b],e=d;e.y+=2;if(e.y>e.e.y)m.splice(b,1);else{e={};for(i in d)e[i]=d[i];var e=d=e,p=e.x;e.x=C(k)*p+S(k)*e.a;e.a=-S(k)*p+C(k)*e.a;d.x=h+500*d.x/(d.a+500);d.y=j+500*d.y/(d.a+500);a.fillStyle=d.c;a.beginPath();a.arc(d.x,d.y,4,0,2*P,1);a.closePath();a.fill()}}k+=0.02},30);
